# blog
Автор: Александр Кондратьев

Загруженный на сервер проект: http://94.142.139.79:3000/

# API DOCUMENTATION
## **---GET---**
### /api/post/:page
#### Получение 20 постов в соответствии с номером страницы.
#### **Необходим JWT токен**
В качестве параметров в запросе передаются:
- **page** --- номер страницы

Возвращает массив объектов с полями:
- **id** --- идентификатор записи
- **text** --- текст записи
- **username** --- имя автора записи
- **user_id** --- идентификатор автора записи
- **content** --- текстовый массив с названиями медиафайлов записи
- **date** --- дата в виде текста

### /api/auth
#### Запрос для проверки токена и авторизации
#### **Необходим JWT токен**
Возвращает объект вида:
```js
{
    token,
    user:{
        id,
        username
    }
}
```

### /api/image/:name
#### Запрос на получение медиафайла
В качестве параметров в запросе передаются:
- **name** --- имя файла

Возвращает медиафайл

### /api/postcount
#### Запрос колличества записей
Возвращает чисто записей

## **---POST---**

### /api/post
#### Отправка новой записи на сервер
#### **Необходим JWT токен**
Принимает **formData** с полями:
- **text** --- текст записи
- **user** --- имя автора записи
- **date** --- дата в виде текста

а также один или несколько **file**, если у записи есть медиафайлы

### /api/register
#### Регистрация нового пользователя
Принимает объект с полями:
- **pswd** --- пароль
- **username** --- имя пользователя

### /api/login
#### Аутентификация пользователя
Принимает объект с полями:
- **pswd** --- пароль
- **username** --- имя пользователя

При удачном входе возвращает объект вида:
```js
{
    token,
    user:{
        id,
        username
    }
}
```
## **---PUT---**

### /api/post
#### Отправка отредактированной записи на сервер
#### **Необходим JWT токен**
Принимает объект с полями:
- **text** --- новый текст записи
- **user** --- имя автора записи
- **id** --- идентификатор записи
- **content** --- новый массив имен медиафайлов записи

## **---DELETE---**

### /api/post/:id
#### Удаление записи
#### **Необходим JWT токен**

Принимает **id** (идентификатор записи) в качестве параметра, а также объект с полем **user**, в котором существуют поля:
- **username** --- имя автора записи
- **id** --- идентификатор пользователя